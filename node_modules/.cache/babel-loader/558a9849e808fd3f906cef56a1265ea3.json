{"ast":null,"code":"var _jsxFileName = \"/home/chris/Documents/Web_Dev_Workshop/Ski-California/liftie-resorts/src/components/Resort/Resort.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { CircularProgress, Container } from '@mui/material';\nimport ResortDetail from '../ResortDetail/ResortDetail';\nimport NotFoundPage from '../NotFoundPage/NotFoundPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Resort(props) {\n  _s();\n\n  const [isDataLoaded, setIsDataLoaded] = React.useState(false);\n  const {\n    resortQuery\n  } = useParams();\n  let skimapID = '';\n  let [resortData, setResortData] = React.useState({});\n  const corsProxy = 'https://mighty-scrubland-75189.herokuapp.com';\n  React.useEffect(() => {\n    //  error check for a valid resort query name first\n    if (props.resorts.map(resort => resort.query === resortQuery) === undefined) {\n      console.log('Checking resort query inside the React.useEffect');\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Invalid Resort Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 17\n      }, this);\n    }\n\n    skimapID = props.resorts.find(resort => resort.query === resortQuery).skimapID;\n    fetch(`${corsProxy}/https://liftie.info/api/resort/${resortQuery}`).then(response => response.json()).then(data => {\n      setResortData(data);\n      setTimeout(() => setIsDataLoaded(true), 1000);\n    }).catch(error => {\n      console.log(`Encountered error in Liftie Fetch request: ${error}`);\n    });\n  }, [resortQuery]); // only display the resort content AFTER the fetch call has returned!\n\n  let displayContent = isDataLoaded ? /*#__PURE__*/_jsxDEV(ResortDetail, {\n    resortData: resortData,\n    skimapID: skimapID\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      margin: '4.8rem'\n    },\n    children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n      color: \"inherit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 10\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 7\n  }, this);\n  return displayContent;\n}\n\n_s(Resort, \"aj2HzgNzi8lGxer6JrjoV8pxOJA=\", false, function () {\n  return [useParams];\n});\n\n_c = Resort;\n\nvar _c;\n\n$RefreshReg$(_c, \"Resort\");","map":{"version":3,"names":["React","useParams","CircularProgress","Container","ResortDetail","NotFoundPage","Resort","props","isDataLoaded","setIsDataLoaded","useState","resortQuery","skimapID","resortData","setResortData","corsProxy","useEffect","resorts","map","resort","query","undefined","console","log","find","fetch","then","response","json","data","setTimeout","catch","error","displayContent","display","justifyContent","alignItems","margin"],"sources":["/home/chris/Documents/Web_Dev_Workshop/Ski-California/liftie-resorts/src/components/Resort/Resort.jsx"],"sourcesContent":["import React from 'react';\n\nimport { useParams } from 'react-router-dom';\nimport { CircularProgress, Container } from '@mui/material';\n\nimport ResortDetail from '../ResortDetail/ResortDetail';\nimport NotFoundPage from '../NotFoundPage/NotFoundPage';\n\nexport default function Resort(props) {\n   const [isDataLoaded, setIsDataLoaded] = React.useState(false);\n   const { resortQuery } = useParams();\n   let skimapID = '';\n\n   let [resortData, setResortData] = React.useState({});\n   const corsProxy = 'https://mighty-scrubland-75189.herokuapp.com';\n\n   React.useEffect(() => {\n      //  error check for a valid resort query name first\n      if (props.resorts.map(resort => resort.query === resortQuery) === undefined) {\n         console.log('Checking resort query inside the React.useEffect');\n         return <div>Invalid Resort Name</div>;\n      }\n\n      skimapID = props.resorts.find(resort => resort.query === resortQuery).skimapID;\n      fetch(`${corsProxy}/https://liftie.info/api/resort/${resortQuery}`)\n         .then(response => response.json())\n         .then(data => {\n            setResortData(data);\n            setTimeout(() => setIsDataLoaded(true), 1000);\n         })\n         .catch((error) => {\n            console.log(`Encountered error in Liftie Fetch request: ${error}`)\n         });\n   }, [resortQuery])\n\n   // only display the resort content AFTER the fetch call has returned!\n   let displayContent = isDataLoaded ?\n      <ResortDetail resortData={resortData}\n         skimapID={skimapID}\n      /> :\n      <Container style={{\n         display: 'flex',\n         justifyContent: 'center',\n         alignItems: 'center',\n         margin: '4.8rem'\n      }}>\n         <CircularProgress color='inherit' />\n      </Container>\n\n   return (\n      displayContent\n   );\n}"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,gBAAT,EAA2BC,SAA3B,QAA4C,eAA5C;AAEA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,OAAOC,YAAP,MAAyB,8BAAzB;;AAEA,eAAe,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;EAAA;;EACnC,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCT,KAAK,CAACU,QAAN,CAAe,KAAf,CAAxC;EACA,MAAM;IAAEC;EAAF,IAAkBV,SAAS,EAAjC;EACA,IAAIW,QAAQ,GAAG,EAAf;EAEA,IAAI,CAACC,UAAD,EAAaC,aAAb,IAA8Bd,KAAK,CAACU,QAAN,CAAe,EAAf,CAAlC;EACA,MAAMK,SAAS,GAAG,8CAAlB;EAEAf,KAAK,CAACgB,SAAN,CAAgB,MAAM;IACnB;IACA,IAAIT,KAAK,CAACU,OAAN,CAAcC,GAAd,CAAkBC,MAAM,IAAIA,MAAM,CAACC,KAAP,KAAiBT,WAA7C,MAA8DU,SAAlE,EAA6E;MAC1EC,OAAO,CAACC,GAAR,CAAY,kDAAZ;MACA,oBAAO;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAP;IACF;;IAEDX,QAAQ,GAAGL,KAAK,CAACU,OAAN,CAAcO,IAAd,CAAmBL,MAAM,IAAIA,MAAM,CAACC,KAAP,KAAiBT,WAA9C,EAA2DC,QAAtE;IACAa,KAAK,CAAE,GAAEV,SAAU,mCAAkCJ,WAAY,EAA5D,CAAL,CACIe,IADJ,CACSC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADrB,EAEIF,IAFJ,CAESG,IAAI,IAAI;MACXf,aAAa,CAACe,IAAD,CAAb;MACAC,UAAU,CAAC,MAAMrB,eAAe,CAAC,IAAD,CAAtB,EAA8B,IAA9B,CAAV;IACF,CALJ,EAMIsB,KANJ,CAMWC,KAAD,IAAW;MACfV,OAAO,CAACC,GAAR,CAAa,8CAA6CS,KAAM,EAAhE;IACF,CARJ;EASF,CAjBD,EAiBG,CAACrB,WAAD,CAjBH,EARmC,CA2BnC;;EACA,IAAIsB,cAAc,GAAGzB,YAAY,gBAC9B,QAAC,YAAD;IAAc,UAAU,EAAEK,UAA1B;IACG,QAAQ,EAAED;EADb;IAAA;IAAA;IAAA;EAAA,QAD8B,gBAI9B,QAAC,SAAD;IAAW,KAAK,EAAE;MACfsB,OAAO,EAAE,MADM;MAEfC,cAAc,EAAE,QAFD;MAGfC,UAAU,EAAE,QAHG;MAIfC,MAAM,EAAE;IAJO,CAAlB;IAAA,uBAMG,QAAC,gBAAD;MAAkB,KAAK,EAAC;IAAxB;MAAA;MAAA;MAAA;IAAA;EANH;IAAA;IAAA;IAAA;EAAA,QAJH;EAaA,OACGJ,cADH;AAGF;;GA5CuB3B,M;UAEGL,S;;;KAFHK,M"},"metadata":{},"sourceType":"module"}