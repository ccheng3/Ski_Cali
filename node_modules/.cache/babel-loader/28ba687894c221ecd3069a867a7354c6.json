{"ast":null,"code":"var _jsxFileName = \"/home/chris/Documents/Web_Dev_Workshop/Ski-California/liftie-resorts/src/components/Resort/Resort.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Stack, CircularProgress, Container } from '@mui/material';\nimport ResortDetail from '../ResortDetail/ResortDetail';\nimport NotFoundPage from '../NotFoundPage/NotFoundPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Resort(props) {\n  _s();\n\n  const [isDataLoaded, setIsDataLoaded] = React.useState(false);\n  const validResortName = props.resorts.find(resort => resort.query === resortQuery);\n\n  if (!validResortName) {\n    return /*#__PURE__*/_jsxDEV(NotFoundPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 10\n    }, this);\n  }\n\n  const {\n    resortQuery\n  } = useParams();\n  const skimapID = props.resorts.find(resort => resort.query === resortQuery).skimapID;\n  let [resortData, setResortData] = React.useState({});\n  const corsProxy = 'https://mighty-scrubland-75189.herokuapp.com';\n  React.useEffect(() => {\n    fetch(`${corsProxy}/https://liftie.info/api/resort/${resortQuery}`).then(response => response.json()).then(data => {\n      setResortData(data);\n      setTimeout(() => setIsDataLoaded(true), 1000);\n    }).catch(error => {\n      console.log(`Encountered error in Liftie Fetch request: ${error}`);\n    });\n  }, []); // only display the resort content AFTER the fetch call has returned!\n\n  let displayContent = isDataLoaded ? /*#__PURE__*/_jsxDEV(ResortDetail, {\n    resortData: resortData,\n    skimapID: skimapID\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      margin: '4.8rem'\n    },\n    children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n      color: \"inherit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 10\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 7\n  }, this);\n  return displayContent;\n}\n\n_s(Resort, \"aj2HzgNzi8lGxer6JrjoV8pxOJA=\", false, function () {\n  return [useParams];\n});\n\n_c = Resort;\n\nvar _c;\n\n$RefreshReg$(_c, \"Resort\");","map":{"version":3,"names":["React","useParams","Stack","CircularProgress","Container","ResortDetail","NotFoundPage","Resort","props","isDataLoaded","setIsDataLoaded","useState","validResortName","resorts","find","resort","query","resortQuery","skimapID","resortData","setResortData","corsProxy","useEffect","fetch","then","response","json","data","setTimeout","catch","error","console","log","displayContent","display","justifyContent","alignItems","margin"],"sources":["/home/chris/Documents/Web_Dev_Workshop/Ski-California/liftie-resorts/src/components/Resort/Resort.jsx"],"sourcesContent":["import React from 'react';\n\nimport { useParams } from 'react-router-dom';\nimport { Stack, CircularProgress, Container } from '@mui/material';\n\nimport ResortDetail from '../ResortDetail/ResortDetail';\nimport NotFoundPage from '../NotFoundPage/NotFoundPage';\n\nexport default function Resort(props) {\n   const [isDataLoaded, setIsDataLoaded] = React.useState(false);\n   const validResortName = props.resorts.find(resort => resort.query === resortQuery);\n   if (!validResortName) {\n      return (\n         <NotFoundPage />\n      );\n   }\n\n   const { resortQuery } = useParams();\n   const skimapID = props.resorts.find(resort => resort.query === resortQuery).skimapID;\n\n   let [resortData, setResortData] = React.useState({});\n   const corsProxy = 'https://mighty-scrubland-75189.herokuapp.com';\n\n   React.useEffect(() => {\n      fetch(`${corsProxy}/https://liftie.info/api/resort/${resortQuery}`)\n         .then(response => response.json())\n         .then(data => {\n            setResortData(data);\n            setTimeout(() => setIsDataLoaded(true), 1000);\n         })\n         .catch((error) => {\n            console.log(`Encountered error in Liftie Fetch request: ${error}`)\n         });\n   }, [])\n\n   // only display the resort content AFTER the fetch call has returned!\n   let displayContent = isDataLoaded ?\n      <ResortDetail resortData={resortData}\n         skimapID={skimapID}\n      /> :\n      <Container style={{\n         display: 'flex',\n         justifyContent: 'center',\n         alignItems: 'center',\n         margin: '4.8rem'\n      }}>\n         <CircularProgress color='inherit' />\n      </Container>\n\n   return (\n      displayContent\n   );\n}"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,KAAT,EAAgBC,gBAAhB,EAAkCC,SAAlC,QAAmD,eAAnD;AAEA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,OAAOC,YAAP,MAAyB,8BAAzB;;AAEA,eAAe,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;EAAA;;EACnC,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCV,KAAK,CAACW,QAAN,CAAe,KAAf,CAAxC;EACA,MAAMC,eAAe,GAAGJ,KAAK,CAACK,OAAN,CAAcC,IAAd,CAAmBC,MAAM,IAAIA,MAAM,CAACC,KAAP,KAAiBC,WAA9C,CAAxB;;EACA,IAAI,CAACL,eAAL,EAAsB;IACnB,oBACG,QAAC,YAAD;MAAA;MAAA;MAAA;IAAA,QADH;EAGF;;EAED,MAAM;IAAEK;EAAF,IAAkBhB,SAAS,EAAjC;EACA,MAAMiB,QAAQ,GAAGV,KAAK,CAACK,OAAN,CAAcC,IAAd,CAAmBC,MAAM,IAAIA,MAAM,CAACC,KAAP,KAAiBC,WAA9C,EAA2DC,QAA5E;EAEA,IAAI,CAACC,UAAD,EAAaC,aAAb,IAA8BpB,KAAK,CAACW,QAAN,CAAe,EAAf,CAAlC;EACA,MAAMU,SAAS,GAAG,8CAAlB;EAEArB,KAAK,CAACsB,SAAN,CAAgB,MAAM;IACnBC,KAAK,CAAE,GAAEF,SAAU,mCAAkCJ,WAAY,EAA5D,CAAL,CACIO,IADJ,CACSC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADrB,EAEIF,IAFJ,CAESG,IAAI,IAAI;MACXP,aAAa,CAACO,IAAD,CAAb;MACAC,UAAU,CAAC,MAAMlB,eAAe,CAAC,IAAD,CAAtB,EAA8B,IAA9B,CAAV;IACF,CALJ,EAMImB,KANJ,CAMWC,KAAD,IAAW;MACfC,OAAO,CAACC,GAAR,CAAa,8CAA6CF,KAAM,EAAhE;IACF,CARJ;EASF,CAVD,EAUG,EAVH,EAfmC,CA2BnC;;EACA,IAAIG,cAAc,GAAGxB,YAAY,gBAC9B,QAAC,YAAD;IAAc,UAAU,EAAEU,UAA1B;IACG,QAAQ,EAAED;EADb;IAAA;IAAA;IAAA;EAAA,QAD8B,gBAI9B,QAAC,SAAD;IAAW,KAAK,EAAE;MACfgB,OAAO,EAAE,MADM;MAEfC,cAAc,EAAE,QAFD;MAGfC,UAAU,EAAE,QAHG;MAIfC,MAAM,EAAE;IAJO,CAAlB;IAAA,uBAMG,QAAC,gBAAD;MAAkB,KAAK,EAAC;IAAxB;MAAA;MAAA;MAAA;IAAA;EANH;IAAA;IAAA;IAAA;EAAA,QAJH;EAaA,OACGJ,cADH;AAGF;;GA5CuB1B,M;UASGN,S;;;KATHM,M"},"metadata":{},"sourceType":"module"}