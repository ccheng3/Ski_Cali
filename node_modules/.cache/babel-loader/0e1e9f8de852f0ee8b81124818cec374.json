{"ast":null,"code":"var _jsxFileName = \"/home/chris/Documents/Web_Dev_Workshop/Ski-California/liftie-resorts/src/components/Resort/Resort.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { CircularProgress, Container } from '@mui/material';\nimport ResortDetail from '../ResortDetail/ResortDetail';\nimport NotFoundPage from '../NotFoundPage/NotFoundPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Resort(props) {\n  _s();\n\n  const [isDataLoaded, setIsDataLoaded] = React.useState(false);\n  const {\n    resortQuery\n  } = useParams();\n  let skimapID = '';\n  let [resortData, setResortData] = React.useState({});\n  const corsProxy = 'https://mighty-scrubland-75189.herokuapp.com';\n  React.useEffect(() => {\n    //  error check for a valid resort query name first\n    if (resortQuery === undefined) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Invalid Resort Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 17\n      }, this);\n    }\n\n    skimapID = props.resorts.find(resort => resort.query === resortQuery).skimapID;\n    fetch(`${corsProxy}/https://liftie.info/api/resort/${resortQuery}`).then(response => response.json()).then(data => {\n      setResortData(data);\n      setTimeout(() => setIsDataLoaded(true), 1000);\n    }).catch(error => {\n      console.log(`Encountered error in Liftie Fetch request: ${error}`);\n    });\n  }, [resortQuery]); // only display the resort content AFTER the fetch call has returned!\n\n  let displayContent = isDataLoaded ? /*#__PURE__*/_jsxDEV(ResortDetail, {\n    resortData: resortData,\n    skimapID: skimapID\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      margin: '4.8rem'\n    },\n    children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n      color: \"inherit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 10\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 7\n  }, this);\n  return displayContent;\n}\n\n_s(Resort, \"aj2HzgNzi8lGxer6JrjoV8pxOJA=\", false, function () {\n  return [useParams];\n});\n\n_c = Resort;\n\nvar _c;\n\n$RefreshReg$(_c, \"Resort\");","map":{"version":3,"names":["React","useParams","CircularProgress","Container","ResortDetail","NotFoundPage","Resort","props","isDataLoaded","setIsDataLoaded","useState","resortQuery","skimapID","resortData","setResortData","corsProxy","useEffect","undefined","resorts","find","resort","query","fetch","then","response","json","data","setTimeout","catch","error","console","log","displayContent","display","justifyContent","alignItems","margin"],"sources":["/home/chris/Documents/Web_Dev_Workshop/Ski-California/liftie-resorts/src/components/Resort/Resort.jsx"],"sourcesContent":["import React from 'react';\n\nimport { useParams } from 'react-router-dom';\nimport { CircularProgress, Container } from '@mui/material';\n\nimport ResortDetail from '../ResortDetail/ResortDetail';\nimport NotFoundPage from '../NotFoundPage/NotFoundPage';\n\nexport default function Resort(props) {\n   const [isDataLoaded, setIsDataLoaded] = React.useState(false);\n   const { resortQuery } = useParams();\n   let skimapID = '';\n\n   let [resortData, setResortData] = React.useState({});\n   const corsProxy = 'https://mighty-scrubland-75189.herokuapp.com';\n\n   React.useEffect(() => {\n      //  error check for a valid resort query name first\n      if (resortQuery === undefined) {\n         return <div>Invalid Resort Name</div>;\n      }\n\n      skimapID = props.resorts.find(resort => resort.query === resortQuery).skimapID;\n      fetch(`${corsProxy}/https://liftie.info/api/resort/${resortQuery}`)\n         .then(response => response.json())\n         .then(data => {\n            setResortData(data);\n            setTimeout(() => setIsDataLoaded(true), 1000);\n         })\n         .catch((error) => {\n            console.log(`Encountered error in Liftie Fetch request: ${error}`)\n         });\n   }, [resortQuery])\n\n   // only display the resort content AFTER the fetch call has returned!\n   let displayContent = isDataLoaded ?\n      <ResortDetail resortData={resortData}\n         skimapID={skimapID}\n      /> :\n      <Container style={{\n         display: 'flex',\n         justifyContent: 'center',\n         alignItems: 'center',\n         margin: '4.8rem'\n      }}>\n         <CircularProgress color='inherit' />\n      </Container>\n\n   return (\n      displayContent\n   );\n}"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,gBAAT,EAA2BC,SAA3B,QAA4C,eAA5C;AAEA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,OAAOC,YAAP,MAAyB,8BAAzB;;AAEA,eAAe,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;EAAA;;EACnC,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCT,KAAK,CAACU,QAAN,CAAe,KAAf,CAAxC;EACA,MAAM;IAAEC;EAAF,IAAkBV,SAAS,EAAjC;EACA,IAAIW,QAAQ,GAAG,EAAf;EAEA,IAAI,CAACC,UAAD,EAAaC,aAAb,IAA8Bd,KAAK,CAACU,QAAN,CAAe,EAAf,CAAlC;EACA,MAAMK,SAAS,GAAG,8CAAlB;EAEAf,KAAK,CAACgB,SAAN,CAAgB,MAAM;IACnB;IACA,IAAIL,WAAW,KAAKM,SAApB,EAA+B;MAC5B,oBAAO;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAP;IACF;;IAEDL,QAAQ,GAAGL,KAAK,CAACW,OAAN,CAAcC,IAAd,CAAmBC,MAAM,IAAIA,MAAM,CAACC,KAAP,KAAiBV,WAA9C,EAA2DC,QAAtE;IACAU,KAAK,CAAE,GAAEP,SAAU,mCAAkCJ,WAAY,EAA5D,CAAL,CACIY,IADJ,CACSC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADrB,EAEIF,IAFJ,CAESG,IAAI,IAAI;MACXZ,aAAa,CAACY,IAAD,CAAb;MACAC,UAAU,CAAC,MAAMlB,eAAe,CAAC,IAAD,CAAtB,EAA8B,IAA9B,CAAV;IACF,CALJ,EAMImB,KANJ,CAMWC,KAAD,IAAW;MACfC,OAAO,CAACC,GAAR,CAAa,8CAA6CF,KAAM,EAAhE;IACF,CARJ;EASF,CAhBD,EAgBG,CAAClB,WAAD,CAhBH,EARmC,CA0BnC;;EACA,IAAIqB,cAAc,GAAGxB,YAAY,gBAC9B,QAAC,YAAD;IAAc,UAAU,EAAEK,UAA1B;IACG,QAAQ,EAAED;EADb;IAAA;IAAA;IAAA;EAAA,QAD8B,gBAI9B,QAAC,SAAD;IAAW,KAAK,EAAE;MACfqB,OAAO,EAAE,MADM;MAEfC,cAAc,EAAE,QAFD;MAGfC,UAAU,EAAE,QAHG;MAIfC,MAAM,EAAE;IAJO,CAAlB;IAAA,uBAMG,QAAC,gBAAD;MAAkB,KAAK,EAAC;IAAxB;MAAA;MAAA;MAAA;IAAA;EANH;IAAA;IAAA;IAAA;EAAA,QAJH;EAaA,OACGJ,cADH;AAGF;;GA3CuB1B,M;UAEGL,S;;;KAFHK,M"},"metadata":{},"sourceType":"module"}